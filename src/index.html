<!doctype html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>OceanOPS Interactive Map</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="icon" type="image/png" href="//www.ocean-ops.org/static/images/oceanops/logos/oceanops-earth-ico-192.png">
    <link href="https://fonts.googleapis.com/css?family=Nunito:300" rel="stylesheet">
    
    <link rel="stylesheet" href="https://js.arcgis.com/4.22/esri/themes/light/main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.css"/>
    <link rel="stylesheet" href="app/resources/main.css">
    <link rel="stylesheet" href="app/resources/widgets.css">

    <script>
        if (!String.prototype.endsWith) {
            String.prototype.endsWith = function(searchString, position) {
                var subjectString = this.toString();
                if (typeof position !== 'number' || !isFinite(position) 
                    || Math.floor(position) !== position || position > subjectString.length) {
                    position = subjectString.length;
                }
                position -= searchString.length;
                var lastIndex = subjectString.indexOf(searchString, position);
                return lastIndex !== -1 && lastIndex === position;
            };
        }
        var debug = true;
        var baseUrl = location.pathname.endsWith(".html") ? location.pathname.split('/').slice(0, -1).join('/') : location.pathname
        var dojoConfig = {
            async: true,
            isDebug: debug,
            has: {
                // 1: enables a better debugging support while having an impact on the performance of the app
                "config-deferredInstrumentation": debug ? 1 : 0,
                "dojo-firebug": debug,
                "dojo-debug-messages": debug
            },
            parseOnLoad: false,
            packages: [
                {
                    name: "app",
                    location: baseUrl + "/app"
                }
            ]
        };
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">


    <script src="https://js.arcgis.com/4.22/"></script>

    <script src="app/run.js"></script>
</head>

<body>
    <!-- Map Container  -->
    <div class="map container-fluid">
        <div id="mapViewDiv"></div>
    </div>
    <div id="timeSlider"></div>

    <div id="basemapModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="basemapModal">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Select a basemap</h4>
                </div>
                <div class="modal-body">

                </div>
            </div>
        </div>
    </div>
    <div id="addLayerModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addLayerModal">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add layer</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">

                </div>
            </div>
        </div>
    </div>
    <div id="screenshotImageModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="screenshotImageModal">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Screenshot</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <img id="screenshotImage"/>
                </div>
            </div>
        </div>
    </div>
    <div id="attributesModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="attributesModal">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="featureCount">Features' attribute</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <table id="attributesTable">
                            <thead><tr></tr></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="alertModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="alertModal">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="color-container" class="esri-widget">
        <div id="color-slider"></div>
    </div>
    
    <div id="footerDrawer">
        <div class="arrow-up toggle"></div>
        <div class="content">
            <span class="info" id="featureCount"></span>
            <div id="grid"></div>
        </div>
    </div>
    
    <span class="esri-icon-loader esri-icon-loading-indicator" id="main-loader"></span>
</body>
</html>
